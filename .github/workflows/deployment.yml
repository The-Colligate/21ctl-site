# # This workflow uses actions that are not certified by GitHub.
# # They are provided by a third-party and are governed by
# # separate terms of service, privacy policy, and support
# # documentation.

# # GitHub recommends pinning actions to a commit SHA.
# # To get a newer version, you will need to update the SHA.
# # You can also reference a tag or branch, but the action may change without warning.

# name: Deploy to https://www.21ctl.com webserver

# on:
#   push:
#     branches:
#       - build

# jobs:
#   # push_to_registry:
#   #   name: Push Docker image to Docker Hub
#   #   runs-on: ubuntu-latest
#   #   steps:
#   #     - name: Check out the repo
#   #       uses: actions/checkout@v3
      
#   #     - name: Log in to Docker Hub
#   #       uses: docker/login-action@f054a8b539a109f9f41c372932f1ae047eff08c9
#   #       with:
#   #         username: ${{ secrets.DOCKER_USERNAME }}
#   #         password: ${{ secrets.DOCKER_PASSWORD }}
      
#   #     - name: Extract metadata (tags, labels) for Docker
#   #       id: meta
#   #       uses: docker/metadata-action@98669ae865ea3cffbcbaa878cf57c20bbf1c6c38
#   #       with:
#   #         images: davidajaba/sacos-project
      
#   #     - name: Build and push Docker image
#   #       uses: docker/build-push-action@ad44023a93711e3deb337508980b4b5e9bcdc5dc
#   #       with:
#   #         context: .
#   #         push: true
#   #         tags: ${{ steps.meta.outputs.tags }}
#   #         labels: ${{ steps.meta.outputs.labels }}
          
#   # update_ssh_linode:
#   #   name: Telling Linode Server to update
#   #   needs: "push_to_registry"
#   #   runs-on: ubuntu-latest
#   #   steps:
#   #   - name: executing remote ssh commands using password
#   #     uses: appleboy/ssh-action@master
#   #     with:
#   #       host: ${{ secrets.HOST }}
#   #       username: ${{ secrets.USERNAME }}
#   #       password: ${{ secrets.PASSWORD }}
#   #       port: ${{ secrets.PORT }}
#   #       script: bash update.sh
  
# 	# update_ssh_ctl:
# 		# name: Telling 21CTL webserver to update its content
# 		# needs: "push_to_registry"
# 		# runs-on: ubuntu-latest
# 		# steps:
# 		# 	- name: Copy via ssh
# 		# 	uses: garygrossgarten/github-action-scp@v0.8.0
# 		# 	with:
# 		# 		local: public
# 		# 		remote: /home/sam/public_html/build
# 		# 		host: ${{ secrets.HOST }}
# 		# 		username: ${{ secrets.SSH_USER }}
# 		# 		password: ${{ secrets.PASSWORD }}
# 		# 		
# 		#		host: ${{ secrets.HOST }}
# 		# 		username: ${{ secrets.USERNAME }}
# 		# 		password: ${{ secrets.PASSWORD }}
# 		# 		port: ${{ secrets.PORT }}
# 		# 		script: bash update.sh

# 	Explore-GitHub-Actions:
# 		runs-on: ubuntu-latest
# 		steps:
# 		- run: echo "üéâ The job was automatically triggered by a ${{ github.event_name }} event."
# 		- run: echo "üêß This job is now running on a ${{ runner.os }} server hosted by GitHub!"
# 		- run: echo "üîé The name of your branch is ${{ github.ref }} and your repository is ${{ github.repository }}."
# 		- name: Check out repository code
# 			uses: actions/checkout@v3
# 		- run: echo "üí° The ${{ github.repository }} repository has been cloned to the runner."
# 		- run: echo "üñ•Ô∏è The workflow is now ready to test your code on the runner."
# 		- name: List files in the repository
# 			run: |
# 			ls ${{ github.workspace }}
# 		- run: echo "üçè This job's status is ${{ job.status }}."

name: GitHub Actions for updating 21CTL Website content
run-name: ${{ github.actor }} is deploying to https://www.21ctl.com webserver
on:
  push:
    branches:
      - build
jobs:
  Deploying-To-CTL:
    runs-on: ubuntu-latest
    steps:
	# - run: echo "üí° The GitHub Action SCP from marketplace works."
    - name: Copy via ssh
        uses: garygrossgarten/github-action-scp@v0.8.0
		with:
		  local: public
          remote: /home/sam/public_html/build
          host: ${{ secrets.HOST }}
          username: ${{ secrets.SSH_USER }}
          password: ${{ secrets.PASSWORD }}
      - name: List files in the repository
        run: |
          ls ${{ github.workspace }}
      - run: echo "üçè This job's status is ${{ job.status }}."